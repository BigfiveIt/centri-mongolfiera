@import 'aos/dist/aos.css';
@import 'swiper/css';
@import 'swiper/css/effect-fade';
@import "tailwindcss";

/* üî¥ QUI DICI A TAILWIND DI GUARDARE I PHP */
@source "./**/*.php";
@source "./template-parts/**/*.php";

/* Disabilita completamente la dark mode */
@custom-variant dark (&:not(*));

@theme {
    --font-sans: 'Asap', sans-serif;
    --font-serif: 'Bricolage Grotesque', serif;
    
    /* Colori Primary - da theme.json #2B463A */
    --color-primary-50: rgb(233 246 238); /* primary-lighten #E9F6EE */
    --color-primary-100: rgb(200 235 210);
    --color-primary-200: rgb(150 215 175);
    --color-primary-300: rgb(100 195 140);
    --color-primary-400: rgb(4 151 42); /* primary-light #04972A */
    --color-primary-500: rgb(43 70 58); /* #2B463A */
    --color-primary-600: rgb(35 56 46);
    --color-primary-700: rgb(27 42 35);
    --color-primary-800: rgb(19 28 23);
    --color-primary-900: rgb(11 14 12);
    --color-primary-950: rgb(5 7 6);
    
    /* Colori Secondary - da theme.json #C4D220 */
    --color-secondary-50: rgb(252 253 240);
    --color-secondary-100: rgb(248 250 225);
    --color-secondary-200: rgb(240 245 195);
    --color-secondary-300: rgb(232 240 165);
    --color-secondary-400: rgb(224 235 135);
    --color-secondary-500: rgb(196 210 32); /* #C4D220 */
    --color-secondary-600: rgb(157 168 26);
    --color-secondary-700: rgb(118 126 19);
    --color-secondary-800: rgb(79 84 13);
    --color-secondary-900: rgb(39 42 6);
    --color-secondary-950: rgb(20 21 3);
}

@layer base {
    :root {
        --primary-50: 233, 246, 238; /* primary-lighten #E9F6EE */
        --primary-100: 200, 235, 210;
        --primary-200: 150, 215, 175;
        --primary-300: 100, 195, 140;
        --primary-400: 4, 151, 42; /* primary-light #04972A */
        --primary-500: 43, 70, 58; /* #2B463A */
        --primary-600: 35, 56, 46;
        --primary-700: 27, 42, 35;
        --primary-800: 19, 28, 23;
        --primary-900: 11, 14, 12;
        --primary-950: 5, 7, 6;
        
        --secondary-50: 252, 253, 240;
        --secondary-100: 248, 250, 225;
        --secondary-200: 240, 245, 195;
        --secondary-300: 232, 240, 165;
        --secondary-400: 224, 235, 135;
        --secondary-500: 196, 210, 32; /* #C4D220 */
        --secondary-600: 157, 168, 26;
        --secondary-700: 118, 126, 19;
        --secondary-800: 79, 84, 13;
        --secondary-900: 39, 42, 6;
        --secondary-950: 20, 21, 3;

        --text-black: 41 41 41; /* #292929 */
        --color-primary: #2B463A;
        --color-primary-light: #04972A;
        --color-primary-lighten: #E9F6EE;
        --color-secondary: #C4D220;
        --color-gray: #707070;
        --color-gray-dark: #171717;
        --color-gray-light: #F5F5F5;
        --color-text: #292929;
        --font-family: 'Asap', sans-serif;
        
        /* Abilita interpolazione per animazioni fluide delle dimensioni */
        interpolate-size: allow-keywords;
    }
}

@import './typography.css';
@import './form.css';
@import './btn.css';
@import './header.css';
@import './footer.css';

/* Fix per scrollbar orizzontale causata da 100vw */
*{
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}
html {
    scrollbar-gutter: stable; /* Soluzione moderna (Chrome 145+) - riserva spazio per scrollbar */
    scroll-behavior: smooth; /* Scroll smooth per le ancore */
    scroll-padding-top: var(--site-header-height); /* Offset per compensare l'header fisso */
}

body {
    font-family: var(--font-sans);
    background-color: var(--color-primary-lighten);
    
}
figure {
    margin: 0;
}

.container {
    @apply mx-auto px-4;
}

.no-underline {
    text-decoration: none !important;
}

.page-grid-wall {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    
    @media (min-width:992px) {
        grid-template-columns: repeat(9, 1fr);
        grid-auto-flow: row;
        gap: 1.5rem;
        grid-auto-rows: minmax(200px, auto);
    }
}

.page-grid-wall-item {
    /* Mobile: griglia 2x2 semplice (gi√† gestita dal parent) */
    
    /* Desktop: schema che si ripete ogni 6 elementi */
    @media (min-width: 992px) {

        /* Prima riga - elemento 1, 7, 13... (48% = span 4) */
        &:nth-child(6n+1) {
            grid-column: span 4;
        }
        
        /* Prima riga - elemento 2, 8, 14... (30% = span 3) */
        &:nth-child(6n+2) {
            grid-column: span 3;
        }
        
        /* Prima riga - elemento 3, 9, 15... (22% = span 2) */
        &:nth-child(6n+3) {
            grid-column: span 2;
        }
        
        /* Seconda riga - elemento 4, 10, 16... (22% = span 2) */
        &:nth-child(6n+4) {
            grid-column: span 2;
        }
        
        /* Seconda riga - elemento 5, 11, 17... (30% = span 3) */
        &:nth-child(6n+5) {
            grid-column: span 3;
        }
        
        /* Seconda riga - elemento 6, 12, 18... (48% = span 4) */
        &:nth-child(6n+6) {
            grid-column: span 4;
        }
    }
    
}
.page-grid-wall-item::after {
    content: '';
    position: absolute;
    inset: 0;
    z-index: 1;
    background: linear-gradient(360deg, rgba(16, 16, 16, 0.7) 0%, rgba(16, 16, 16, 0) 90%);
    transition: all 0.3s ease-in-out;
}
.page-grid-wall-item:hover::after {
    transform: scale(1.5);
}
.page-grid-wall-item img {
    display: block;
    transition: all 0.3s ease-in-out;
}
.page-grid-wall-item:hover img {
    transform: scale(1.05);
}


.section-divertimento {
    position: relative;
    @media (min-width: 768px) {
        &::after {
            content: '';
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            background: linear-gradient(-90deg, #101010 9%, rgba(16, 16, 16, 0) 30%);
            width: 40%;
            z-index: 1;
            opacity: 0.33;
            pointer-events: none;


        }
    }
}
.divertimento-carousel {
    @media (min-width: 768px) {
        .swiper-slide {
            height: auto;
            opacity: 0;
            transition: opacity 0.2s ease;
        }
    
        /* Visibile + tutti i successivi */
        .swiper-slide-active,
        .swiper-slide-active ~ .swiper-slide {
            opacity: 1;
        }
        .swiper-slide .divertimento-carousel-card {
            height: 350px;
            transition: height 0.3s ease-in-out;
        }
        .swiper-slide-active ~ .swiper-slide .divertimento-carousel-card {
            height: 265px;
            transition: height 0.3s ease-in-out;
        }
    }
    
}

.swiper-navigation {
    .swiper-button-next,
    .swiper-button-prev {
        cursor: pointer;
    }
    div:hover svg {
        path {
            fill: var(--color-secondary-500);
        }
    }
}

.stretched-link{
    @apply no-underline;
    &::after {
        content: "";
        @apply z-10 absolute inset-0 bg-transparent pointer-events-auto;
    }
}

.teaser-event {
    .teaser-event__image {
        img {
            transition: all 0.3s ease-in-out;
        }
    }
    &:hover {
        .teaser-event__image {
            img {
                transform: scale(1.05);
            }
        }
    }
}

@layer components {
    .swiper-pagination {
        @apply flex justify-center items-center gap-2;
        .swiper-pagination-bullet {
            @apply w-4 h-4 rounded-full bg-primary-500 opacity-25 transition-all duration-300 cursor-pointer scale-75;
        }
        .swiper-pagination-bullet-active {
            @apply w-4 h-4 bg-primary-500 opacity-100 scale-100;
        }
    }


    .negozio-meta{
        @apply flex border-3 border-transparent rounded-3xl overflow-hidden ;
        .negozio-meta__icon{
            @apply w-[75px] flex items-center justify-center;
            svg{
                width: 30px;
                height: 30px;
            }
        }
        .negozio-meta__text{
           align-self: center;
        }
    }
}

.search-form{
    @apply flex items-center gap-2 border-2 border-primary-500 rounded-2xl p-4 bg-white w-full lg:max-w-[400px];
    button{
        @apply bg-transparent border-none ps-4 pe-6;
        svg{
            width: 20px;
            height: 20px;
        }
    }
    input{
        @apply bg-transparent border-none focus:outline-none;
    }
}

.is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){
    padding-inline: calc(var(--spacing) * 4);
    margin-inline: auto;
}
.is-layout-constrained > .alignfull{
    max-width: 96rem;
    margin-inline: auto;
    padding-inline: calc(var(--spacing) * 4);
}

.alignfull.has-background {
    position: relative;
    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        z-index: -1;
        /* Eredita il background dall'elemento stesso (che pu√≤ avere .has-*-background-color) */
        background: inherit;
        width: 100vw;
        height: 100%;
    }
}

.news-carousel{
    .swiper-slide{
        align-self: stretch;
        height: auto;
    }
}

/* Select custom per filtri categorie su mobile */
.custom-taxonomy-select {
    position: relative;
    z-index: 100;
    isolation: isolate; /* Crea un nuovo stacking context isolato */
}

.custom-taxonomy-select__button {
    position: relative;
    z-index: 1;
}

.custom-taxonomy-select__icon {
    flex-shrink: 0;
}

.custom-taxonomy-select.is-open .custom-taxonomy-select__icon {
    transform: rotate(180deg);
}

.custom-taxonomy-select__dropdown {
    top: 100%;
    left: 0;
    z-index: 9999;
    position: absolute;
    isolation: isolate; /* Assicura che il dropdown sia sopra tutto */
}

.custom-taxonomy-select__option {
    display: block;
    width: 100%;
    text-align: left;
    border-bottom: 1px solid rgb(229 231 235);
}

.custom-taxonomy-select__option:last-child {
    border-bottom: none;
}

.custom-taxonomy-select__option.bg-primary-400 {
    font-weight: 500;
}

.iframe-aspect{
    @apply lg:aspect-[16/9] aspect-square h-auto;
}